import{r as e,k as a,o as t,c as s,l,u as i,m as n,F as r,f as d,a as o,t as c,h as u,z as m,g,x as p,s as v,q as h,v as f,p as y,b,d as k}from"./index-95cbf248.js";import{C as w}from"./Empty-839ee0e8.js";import{L as T}from"./LazyImgJs-a4c13394.js";import{S as C,C as x,e as D,r as I}from"./Common-e7c789d0.js";import{g as P,j as S,h as j,s as L,k as M}from"./common-bd5d0c2e.js";import{g as _}from"./layout-1053746e.js";import{_ as O}from"./_plugin-vue_export-helper-1b428a4d.js";const z=e=>(y("data-v-4d46bd64"),e=e(),b(),e),N={class:"index-main-sidebar"},R={key:0,class:"sidebar-item"},F=z((()=>o("div",{class:"title"},[o("div",null,[o("i",{class:"blog icon-huo"}),o("span",null," 最新文章 ")])],-1))),A={key:0,class:"side-new-article"},E={key:0},H={key:1},W={key:0,class:"characters-post"},q=["href","title"],J={class:"side-article"},Q=z((()=>o("i",{style:{color:"var(--main)","font-weight":"unset"},class:"blog icon-link"},null,-1))),Y={key:1,class:"index-side-article"},B=["href","title"],G={key:0,class:"first"},K=z((()=>o("div",{class:"linear-mask"},null,-1))),U={class:"box-header-article"},V={class:"article-title"},X={class:"article-view"},Z={key:1,class:"not-first"},$={class:"side-post-content"},ee={class:"side-post-title"},ae={class:"side-post-info"},te={class:"side-post-time"},se=z((()=>o("i",{class:"blog icon-4TIME"},null,-1))),le={class:"side-post-views"},ie={key:3,class:g(["img-badge","img-badge4"])},ne={key:2},re={key:1,class:"sidebar-item"},de=z((()=>o("div",{class:"title"},[o("div",null,[o("i",{class:"blog icon-daojishi"}),o("span",null," 人生倒计时 ")])],-1))),oe={class:"sidebar_timelife"},ce={class:"item"},ue={class:"item-timelife-title"},me={class:"text"},ge={class:"progress"},pe={class:"progress-bar"},ve={class:"progress-percentage"},he={key:2,class:"sidebar-item"},fe=z((()=>o("div",{class:"title"},[o("div",null,[o("i",{class:"blog icon-message",style:{color:"var(--theme)"}}),o("span",null," 最新回复 ")])],-1))),ye={key:0,class:"side-new-reword"},be={key:0},ke={key:1},we={class:"side-reply"},Te={class:"side-reply-mete"},Ce={class:"reply-avatar"},xe={class:"reply-meta-content"},De={class:"author"},Ie={class:"create-time"},Pe={class:"reply-contain"},Se={class:"replay-content"},je=["href","title"],Le=["innerHTML"],Me={key:3,class:"sidebar-item"},_e={class:"title"},Oe=z((()=>o("div",null,[o("i",{class:"blog icon-tag"}),o("span",null," 标签云 ")],-1))),ze={key:0,class:"more",href:"/tags"},Ne=[z((()=>o("span",{style:{"vertical-align":"middle"}}," 更多 ",-1))),z((()=>o("i",{class:"blog icon-more-right"},null,-1)))],Re={key:0,id:"tags-3d"},Fe={class:"tags-cloud-list"},Ae=["href","title","data-label","data-url"],Ee={name:"Sidebar"},He=O(Object.assign(Ee,{setup(y){let b=e([]),O=e([]),z=e([]),Ee=e(!1),He=[{title:"今日已经过去",endTitle:"小时",num:0,percent:"0%"},{title:"这周已经过去",endTitle:"天",num:0,percent:"0%"},{title:"本月已经过去",endTitle:"天",num:0,percent:"0%"},{title:"今年已经过去",endTitle:"个月",num:0,percent:"0%"}];const We=e(!0);const qe=e(!0);function Je(){n.themeConfig.enableSidebarNewArticle&&n.themeConfig.enableSidebarNewReply&&async function(){await k.get("view/getIndexPageData").then((e=>{"200"===e.code&&(b.value=e.data.articleOrder,O.value=e.data.replyOrder)})),We.value=!1}(),M()&&n.themeConfig.enableSidebarLifeTime&&function(){{let e=(+new Date-new Date((new Date).toLocaleDateString()).getTime())/1e3/60/60,a=e/24*100;He[0].num=parseInt(e),He[0].percent=parseInt(a)+"%"}{let e={0:7,1:1,2:2,3:3,4:4,5:5,6:6}[(new Date).getDay()],a=e/7*100;He[1].num=parseInt(e),He[1].percent=parseInt(a)+"%"}{let e=(new Date).getFullYear(),a=(new Date).getDate(),t=(new Date).getMonth()+1,s=a/new Date(e,t,0).getDate()*100;He[2].num=a,He[2].percent=parseInt(s)+"%"}{let e=(new Date).getMonth()+1,a=e/12*100;He[3].num=e,He[3].percent=parseInt(a)+"%"}}(),M()&&n.themeConfig.enableTagsCloud&&async function(){await k.get("view/tags/getTagsForIndex").then((e=>{"200"===e.code?(z.value=e.data.tags,Ee.value=e.data.hasMore):Qmsg.error(e.msg)})),qe.value=!1,_()}()}return a((()=>{Je()})),(e,a)=>(t(),s("div",N,[l(C),i(n).themeConfig.enableSidebarNewArticle?(t(),s("div",R,[F,We.value?u("",!0):(t(),s("div",A,[0===i(b).length?(t(),s("div",E,[l(w,{description:"暂无文章"})])):(t(),s("div",H,["characters"===i(n).themeConfig.indexSidePostType?(t(),s("div",W,[(t(!0),s(r,null,d(i(b),(e=>(t(),s("a",{class:"side-article-hover",href:e.fullPath,title:e.title},[o("div",J,c(e.title),1),Q],8,q)))),256))])):"pictures"===i(n).themeConfig.indexSidePostType?(t(),s("div",Y,[(t(!0),s(r,null,d(i(b),((e,a)=>(t(),s("a",{href:e.fullPath,title:e.title},[0===a?(t(),s("div",G,[l(T,{"data-src":i(P)(e.thumbnail,null,null,e.enablePostRandomImg),radius:"4px"},null,8,["data-src"]),0===a?(t(),s(r,{key:0},[K,o("div",U,[o("span",V,c(e.title),1),o("span",X,c(i(S)(e.views))+" 阅读 ",1)])],64)):u("",!0)])):(t(),s("div",Z,[l(T,{"data-src":i(P)(e.thumbnail,null,null,e.enablePostRandomImg),radius:"4px"},null,8,["data-src"]),o("div",$,[o("span",ee,c(e.title),1),o("div",ae,[o("div",te,[se,m(" "+c(i(j)(e.createTime)),1)]),o("div",le,c(i(S)(e.views))+" 阅读 ",1)])])])),a<=3?(t(),s("span",{key:2,class:g(["img-badge","img-badge"+(a+1)])},[o("i",null,"TOP"+c(a+1),1)],2)):u("",!0),a>3?(t(),s("span",ie,[o("i",null,"TOP"+c(a+1),1)])):u("",!0)],8,B)))),256))])):(t(),s("div",ne,[l(w,{description:"暂无文章"})]))]))])),l(x,{loading:We.value},null,8,["loading"])])):u("",!0),i(n).themeConfig.enableSidebarLifeTime?(t(),s("div",re,[de,o("div",oe,[(t(!0),s(r,null,d(i(He),((e,a)=>(t(),s("div",ce,[o("div",ue,[m(c(e.title)+" ",1),o("span",me,c(e.num),1),m(" "+c(e.endTitle),1)]),o("div",ge,[o("div",pe,[o("div",{class:g(["progress-bar-inner","progress-bar-inner-"+a]),style:p({width:e.percent})},null,6)]),o("div",ve,c(e.percent),1)])])))),256))])])):u("",!0),i(n).themeConfig.enableSidebarNewReply?(t(),s("div",he,[fe,We.value?u("",!0):(t(),s("div",ye,[0===i(O).length?(t(),s("div",be,[l(w,{description:"暂无留言"})])):(t(),s("div",ke,[(t(!0),s(r,null,d(i(O),(e=>(t(),s("div",we,[o("div",Te,[o("div",Ce,[l(T,{"data-src":e.avatar,type:"avatar","touch-height":"32px","touch-width":"32px","has-suffix":!1,"error-imgs":i(D)},null,8,["data-src","error-imgs"])]),o("div",xe,[o("div",De,c(e.author),1),o("div",Ie,c(e.createTime),1)])]),o("div",Pe,[o("div",Se,[o("a",{class:"link",href:e.article.fullPath+"?commentId="+e.id,title:e.article.title},[o("p",{innerHTML:i(I)(e.content,"")},null,8,Le)],8,je)])])])))),256))]))])),l(x,{loading:We.value},null,8,["loading"])])):u("",!0),i(n).themeConfig.enableTagsCloud?(t(),s("div",Me,[o("div",_e,[Oe,i(Ee)?(t(),s("a",ze,Ne)):u("",!0)]),"3d"!==i(n).themeConfig.tagCloudType||qe.value?u("",!0):(t(),s("div",Re,[i(z).length?u("",!0):(t(),v(w,{key:0,style:{"font-size":"14px"},description:"暂无标签"}))])),h(o("div",Fe,[i(z).length?(t(!0),s(r,{key:0},d(i(z),((e,a)=>(t(),s("a",{class:g({autoWidth:"auto"===i(n).themeConfig.tagCloudWidth}),style:p({color:e.color,background:i(L)(e.color),borderColor:i(L)(e.color)}),href:e.fullPath,title:e.name,"data-label":e.name,"data-url":e.fullPath},c(e.name),15,Ae)))),256)):u("",!0),i(z).length?u("",!0):(t(),v(w,{key:1,style:{"font-size":"14px"},description:"暂无标签"}))],512),[[f,!qe.value]]),l(x,{loading:qe.value},null,8,["loading"])])):u("",!0)]))}}),[["__scopeId","data-v-4d46bd64"]]);export{He as S};
