import{u as e}from"./default-touch-d39f9990.js";import{n as t,i as o,l as n,u as a,v as i,w as s,x as m,a as l,q as r}from"./common-bd5d0c2e.js";import{r as g,m as c}from"./index-95cbf248.js";const f=g(),d=g(),h=g(),u=g();let C=g(!0);const p=e(),b=()=>{f.value.drawer=!0},y=()=>{u.value.drawer=!0},E=e=>{C.value=e},F=()=>{h.value.dialogVisible=!0},k=()=>{v()},B=()=>{let e="";return c.themeConfig.enableLightBg&&t(c.themeConfig.lightBg)&&(e+=`html[data-mode="light"] body {\n            background-image: url(${c.themeConfig.lightBg});\n            }`),c.themeConfig.enableDarkBg&&t(c.themeConfig.darkBg)&&(e+=`html[data-mode="dark"] body {\n            background-image: url(${c.themeConfig.darkBg});\n            }`),e},S=g("light"),v=()=>{const e=p.getMode;S.value=void 0===e||""===e||null===e?"light":e,document.documentElement.dataset.mode=S.value,T(p.getMode)},T=e=>{B()},M=()=>{const e=document.createElement("style");e.type="text/css",e.innerHTML=(()=>{if(!t(c.themeConfig.customFont))return;const e=l(c.themeConfig.customFont),o=e.match(/[^.]+$/);return`@font-face { font-family: "Custom Font"; src: url("${e}") format("${o[0]}"); font-weight: 400; font-style: normal;font-display: swap;}`})()+B(),"light"===mode&&t(c.themeConfig.themeLightColor)?e.innerHTML+=`html[data-mode="light"] body { --theme: ${c.themeConfig.themeLightColor} }`:"dark"===mode&&t(c.themeConfig.themeLightColor)&&(e.innerHTML+=`html[data-mode="dark"] body { --theme: ${c.themeConfig.themeDarkColor} }`),document.getElementsByTagName("head")[0].appendChild(e)},w=()=>{!Utils.isMobile()&&c.themeConfig.enableTagsCloud&&"3d"===c.themeConfig.tagCloudType&&$(".tags-cloud-list").length&&r(Utils.getStaticUrl("3dtag/3dtag.min.js"),(()=>{const e=[],t=["#F8D800","#0396FF","#EA5455","#7367F0","#32CCBC","#F6416C","#28C76F","#9F44D3","#F55555","#736EFE","#E96D71","#DE4313","#D939CD","#4C83FF","#F072B6","#C346C2","#5961F9","#FD6585","#465EFB","#FFC600","#FA742B","#5151E5","#BB4E75","#FF52E5","#49C628","#00EAFF","#F067B4","#F067B4","#ff9a9e","#00f2fe","#4facfe","#f093fb","#6fa3ef","#bc99c4","#46c47c","#f9bb3c","#e8583d","#f68e5f"];document.querySelectorAll(".tags-cloud-list a").forEach(((o,n)=>{var a,i;e.push({label:o.getAttribute("data-label"),url:o.getAttribute("data-url"),target:"_blank",fontColor:t[(a=0,i=t.length-1,a=Math.ceil(a),i=Math.floor(i),Math.floor(Math.random()*(i-a+1))+a)],fontSize:16})})),$("#tags-3d").svg3DTagCloud({entries:e,width:250,height:250,radius:"65%",radiusMin:75,bgDraw:!1,fov:800,speed:.5,fontWeight:500}),$(".tags-cloud-list").remove(),$("#tags-3d .empty").remove()}))};const x=()=>{try{setTimeout((()=>{(()=>{const e=JSON.parse(localStorage.getItem("USER")).userInfo,t=c.blogSetting.favicon||c.themeConfig.favicon,o=window.location.href;let n='<meta name="author" content="'+e.nickname+'"><link rel="canonical" href="'+c.blogSetting.address+'"><meta name="description" content="'+e.description+'"><meta name="site" content="'+c.blogSetting.address+'"><meta name="msapplication-TileImage" content="'+c.blogSetting.logo+'"><meta name="copyright" content="'+c.blogSetting.title+'"><meta property="og:image" content="'+t+'"><meta property="og:description" content="'+e.description+'"><meta property="og:title" content="'+c.blogSetting.title+'"><meta property="og:site_name" content="'+c.blogSetting.title+'"><meta property="og:type" content="website"><meta property="og:url" content="'+o+'"><meta name="keywords" content="">';document.getElementsByTagName("head")[0].insertAdjacentHTML("afterbegin",n)})(),t(c.themeConfig.cursorSkin)&&"off"!==c.themeConfig.cursorSkin&&n(Utils.getStaticUrl("cursor/style/"+c.themeConfig.cursorSkin+".scss")),t(c.themeConfig.backdrop)&&"off"!==c.themeConfig.backdrop&&o(Utils.getStaticUrl("effect/backdrop/"+c.themeConfig.backdrop+".js")),t(c.themeConfig.cursorEffect)&&"off"!==c.themeConfig.cursorEffect&&o(Utils.getStaticUrl("effect/cursor/"+c.themeConfig.cursorEffect+".js")),t(c.themeConfig.customExternalCss)&&n(c.themeConfig.customExternalCss),t(c.themeConfig.customCss)&&a(c.themeConfig.customCss),t(c.themeConfig.customExternalJsHead)&&i(c.themeConfig.customExternalJsHead),t(c.themeConfig.customExternalJsBody)&&o(c.themeConfig.customExternalJsBody),t(c.themeConfig.customJsHead)&&s(c.themeConfig.customJsHead),t(c.themeConfig.customJsBody)&&m(c.themeConfig.customJsBody),v(),M(),c.themeConfig.enableRip&&(document.documentElement.style.filter="grayscale(1)"),function(){if(Utils.isMobile()||!c.themeConfig.enableOffscreenTip)return;const e=document.title;let t=null;document.addEventListener("visibilitychange",(function(){location.href.indexOf(c.blogSetting.address)>0||"/"!==location.pathname||(document.hidden?(document.title=c.themeConfig.offscreenTitleLeave||"歪，你去哪里了？",clearTimeout(t)):(document.title=c.themeConfig.offscreenTitleBack||"(つェ⊂)咦，又回来了!",t=setTimeout((function(){document.title=e}),2e3)))}))}()}),0)}catch(e){}};export{b as a,f as b,h as c,k as d,y as e,T as f,w as g,x as i,d as l,u as m,F as o,E as s,p as u};
