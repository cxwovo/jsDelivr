import{J as e,r as a,N as l,j as s,o as i,c as t,a as n,z as o,t as r,q as c,v as u,l as m,F as v,f as d,s as p,u as f,g,n as h,e as w,m as y,x,h as b,p as C,b as z}from"./index-95cbf248.js";import{t as L,r as _,c as k,g as S,f as P}from"./common-bd5d0c2e.js";import{_ as j}from"./Pagination-afc9cb8a.js";import{C as M}from"./CSkeleton-f91dfddc.js";import{L as I}from"./LazyImgJs-a4c13394.js";import{C as T}from"./Empty-839ee0e8.js";import{W as q}from"./wow-30209c09.js";import{_ as H}from"./_plugin-vue_export-helper-1b428a4d.js";const N=e=>(C("data-v-d7857cc4"),e=e(),z(),e),D={class:"index-contain"},J={class:"page-contain"},U={class:"box-contain"},A={class:"search-result-head"},B=N((()=>n("i",{class:"blog icon-icon-sousuo",style:{"margin-top":"-3px"}},null,-1))),E={class:"index-articles"},F={key:0},G=["data-wow-delay"],R=N((()=>n("div",{class:"article-hover-line"},null,-1))),V=["href","title"],W={class:"article-hover-time"},K=N((()=>n("i",{class:"blog icon-picture post-left-top-picture"},null,-1))),O={class:"index-article-contain"},Q=["href","title"],X={key:0,class:"over-font-zhiding"},Y=["innerHTML"],Z=["href","title"],$=["innerHTML"],ee={class:"article-view-message-like"},ae={class:"article-view-info"},le=N((()=>n("i",{style:{"margin-left":"5px"},class:"blog icon-open"},null,-1))),se={class:"article-message-info"},ie=N((()=>n("i",{style:{color:"var(--minor)","font-size":"14px","margin-left":"5px"},class:"blog icon-message"},null,-1))),te={class:"article-like-info"},ne=N((()=>n("i",{style:{"margin-left":"5px",color:"var(--minor)"},class:"blog icon-dianzan"},null,-1))),oe={class:"index-article-cate"},re={class:"patch"},ce=N((()=>n("svg",{class:"icon",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15"},[n("path",{d:"M512.2 564.743a76.818 76.818 0 0 1-30.973-6.508L108.224 393.877c-26.105-11.508-42.56-35.755-42.927-63.272-.384-27.44 15.356-52.053 41.042-64.232l373.004-176.74c20.591-9.737 45.16-9.755 65.75.017L917.68 266.39c25.668 12.188 41.39 36.792 41.024 64.231-.384 27.5-16.821 51.73-42.908 63.237l-372.57 164.377a77.18 77.18 0 0 1-31.025 6.508zM139.843 329.592l370.213 163.241c1.291.56 3.018.567 4.345-.009l369.758-163.128-369.706-175.464v-.01c-1.326-.628-3.158-.636-4.502 0l-370.108 175.37zm748.015 1.858h.175-.175zM512.376 941.674c-10.348 0-20.8-2.32-30.537-6.997L121.05 778.624c-18.113-7.834-26.454-28.87-18.62-46.983 7.835-18.112 28.862-26.488 46.993-18.61l362.08 156.629 345.26-156.366c17.939-8.166 39.14-.253 47.324 17.746 8.166 17.964.227 39.157-17.729 47.324l-344.51 156.61c-9.196 4.449-19.281 6.7-29.471 6.7z",fill:"var(--minor)"}),n("path",{d:"M871.563 515.449L511.81 671.775 152.358 515.787v73.578a34.248 34.248 0 0 0 20.76 31.48l301.518 129.19c11.806 5.703 24.499 8.546 37.175 8.546s25.367-2.843 37.174-8.546L850.82 620.534a34.248 34.248 0 0 0 20.744-31.474V515.45z",fill:"#ff6a18"})],-1))),ue=["href","title"],me=H({__name:"SearchPage",setup(C){const z=e(),H=a([]),N=a(!1),me=a(""),ve=a({}),de=a(0),pe=a();L();const fe=async e=>{void 0!==z.query.keyword&&(me.value=z.query.keyword,k(me.value),ve.value.keyword=me.value),H.value=[],await ge(e),N.value=!e.spinning,N.value||await h((()=>{w().setIsLoaded(!0)}))},ge=e=>{e.records&&e.records.records.length>0?(H.value=e.records.records,de.value=e.records.total):null!==e.records&&(H.value=[])};l((()=>{z.query.keyword!==me.value&&(H.value=[],N.value=!1,me.value="",ve.value={},de.value=0,pe.value=_(16))}));return s((()=>{(()=>{let e=null;y.themeConfig.enableListAnimate&&(e=y.themeConfig.animateClassName?y.themeConfig.animateClassName.split("__")[y.themeConfig.animateClassName.split("__").length-1]:y.animateClassSuffix.split("__")[y.animateClassSuffix.split("__").length-1]),new q({boxClass:"wow",animateClass:e||"fadeIn",offset:0,mobile:!0,live:!0,scrollContainer:null}).init()})()})),(e,a)=>(i(),t("div",{key:pe.value,class:g(["index-main",{showInUp:f(y).themeConfig.enableShowInUp}])},[n("div",D,[n("div",J,[n("div",U,[n("div",A,[B,o(" 搜索到 "),n("span",null,r(de.value),1),o(" 条与 "),n("span",null,r(me.value),1),o(" 相关的文章 ")]),c(m(M,{style:{"margin-top":"-20px"}},null,512),[[u,!N.value]]),c(n("div",E,[H.value&&H.value.length?(i(),t("div",F,[(i(!0),t(v,null,d(H.value,((e,a)=>(i(),t("div",{class:"article-div animated wow","data-wow-delay":"0."+a%f(y).blogSetting.indexPageSize+"s",style:x({visibility:"visible",animationDelay:"0."+a%f(y).blogSetting.indexPageSize+"s"})},[R,n("a",{href:e.fullPath,class:"index-article-img",title:e.title},[m(I,{"data-src":f(S)(e.thumbnail,e.categoriesList,e.tagsList)},null,8,["data-src"]),n("div",W,r(f(P)(e.createTime)),1),K],8,V),n("div",O,[n("a",{href:e.fullPath,class:"over-font",title:e.title,style:{display:"flex","align-items":"center"}},[e.topped?(i(),t("div",X,"置顶")):b("",!0),n("span",{innerHTML:e.title},null,8,Y)],8,Q),n("a",{href:e.fullPath,title:e.title,class:"over-font-z"},[n("span",{innerHTML:e.summary},null,8,$)],8,Z),n("div",ee,[n("div",null,[n("span",null,r(f(P)(e.createTime)),1),n("span",ae,[le,o(" "+r(e.views),1)]),n("span",se,[ie,o(" "+r(e.countComments),1)]),n("span",te,[ne,o(" "+r(e.likes),1)])]),n("ul",oe,[(i(!0),t(v,null,d(e.categoriesList,(e=>(i(),t("li",re,[ce,n("a",{href:e.fullPath,title:e.name,style:{"margin-left":"5px"}},r(e.name),9,ue)])))),256))])])])],12,G)))),256))])):(i(),p(T,{key:1,description:"暂无文章"}))],512),[[u,N.value]]),c(n("div",null,[m(j,{style:{"margin-bottom":"-20px"},ref:"cPaginationRef",onGetData:fe,requestPath:"/view/article/search",pageSize:f(y).blogSetting.otherPageSize,term:ve.value},null,8,["pageSize","term"])],512),[[u,N.value]])])])])],2))}},[["__scopeId","data-v-d7857cc4"]]);export{me as default};
